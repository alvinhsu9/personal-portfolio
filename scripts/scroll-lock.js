!function(c,a){if("function"==typeof define&&define.amd)define(["exports"],a);else if("undefined"!=typeof exports)a(exports);else{var b={exports:{}};a(b.exports),c.bodyScrollLock=b.exports}}(this,function(a){"use strict";function d(a){if(!Array.isArray(a))return Array.from(a);for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}Object.defineProperty(a,"__esModule",{value:!0});var c=!1;if("undefined"!=typeof window){var b={get passive(){c=!0;return}};window.addEventListener("testPassive",null,b),window.removeEventListener("testPassive",null,b)}var e="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&/iP(ad|hone|od)/.test(window.navigator.platform),f=[],g=!1,h=-1,i=void 0,j=void 0,k=function(a){return f.some(function(b){return!!(b.options.allowTouchMove&&b.options.allowTouchMove(a))})},l=function(b){var a=b||window.event;return!!k(a.target)||a.touches.length>1||(a.preventDefault&&a.preventDefault(),!1)},m=function(a){setTimeout(function(){if(void 0===j){var c=!!a&& !0===a.reserveScrollBarGap,b=window.innerWidth-document.documentElement.clientWidth;c&&b>0&&(j=document.body.style.paddingRight,document.body.style.paddingRight=b+"px")}void 0===i&&(i=document.body.style.overflow,document.body.style.overflow="hidden")})},n=function(){setTimeout(function(){void 0!==j&&(document.body.style.paddingRight=j,j=void 0),void 0!==i&&(document.body.style.overflow=i,i=void 0)})},o=function(a,c){var b,d=a.targetTouches[0].clientY-h;return!k(a.target)&&(c&&0===c.scrollTop&&d>0?l(a):(b=c)&&b.scrollHeight-b.scrollTop<=b.clientHeight&&d<0?l(a):(a.stopPropagation(),!0))};a.disableBodyScroll=function(a,b){if(e){if(!a){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(a&&!f.some(function(b){return b.targetElement===a})){var i={targetElement:a,options:b||{}};f=[].concat(d(f),[i]),a.ontouchstart=function(a){1===a.targetTouches.length&&(h=a.targetTouches[0].clientY)},a.ontouchmove=function(b){1===b.targetTouches.length&&o(b,a)},g||(document.addEventListener("touchmove",l,c?{passive:!1}:void 0),g=!0)}}else{m(b);var j={targetElement:a,options:b||{}};f=[].concat(d(f),[j])}},a.clearAllBodyScrollLocks=function(){e?(f.forEach(function(a){a.targetElement.ontouchstart=null,a.targetElement.ontouchmove=null}),g&&(document.removeEventListener("touchmove",l,c?{passive:!1}:void 0),g=!1),f=[],h=-1):(n(),f=[])},a.enableBodyScroll=function(a){if(e){if(!a){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}a.ontouchstart=null,a.ontouchmove=null,f=f.filter(function(b){return b.targetElement!==a}),g&&0===f.length&&(document.removeEventListener("touchmove",l,c?{passive:!1}:void 0),g=!1)}else 1===f.length&&f[0].targetElement===a?(n(),f=[]):f=f.filter(function(b){return b.targetElement!==a})}})